# 01.离职原因

- 公司发展缓慢，进入舒适区，技术上无法突破和没有更好进步，发展空间也有一定的局限性
- 目前市场上的技术革新很快，希望能接触到有挑战的技术，与时俱进，提高自身的技能，在软件行业上有更好的发展。

# 02.功能测试

## 1. 结合具体的测试场景如何测试测试

双11优惠券当天可用，满100减50，特价商品不能使用。

- 字面意思：
    - 双11优惠券当天可用（边界值）
    - 满100减50（边界值，同时考虑大于200的场景）
    - 特价商品不可使用
- 考虑其他场景测试
    - UI检查：优惠券金额，不可用的优惠券置灰，优惠券的面额及有效期，排列规则。
    - 优惠券状态：已领取未使用、已领取已使用，已使用且已经退款等。
    - 优惠券选择：检查支付是是否可以自动选择最大优惠券，同时支持选择、切换和取消。
    - 退货场景：退货后退款及优惠券或者不退还优惠券。
    - 叠加使用场景：优惠券是否可以叠加使用，是否可以和其它的优惠活动一起使用。
    - 关联测试：优惠券过期或者失效，是否可以继续使用。

2. 如何区分前后段bug？

- 在fidder工具中显示前端数据没有问题，后端返回数据存在问题，则是后段bug。
- 在fidder工具中显示前端数据问题，后段返回数据错误，则是前端问题。
- 查看后台日志查看分析。

# 接口测试

## 1. http和https的区别

- http是超文本传输协议，信息是明文传输，一般端口为80。
- https是加密传输协议（SSL+http），一般端口为443。

## 2. 常见的post提交数据的方式

- 4种格式，取决于Content_Type的请求头
    - application/x-www-form-urlencoded,数据报文是字典，相当于通过表单方式去提交数据，数据格式a=1&b=2&c=3
    - multipart/form-data,报文包含有文件上传。
    - application/json(text/plain,text/xml),报文都是字符串类型。
    - binary，报文都是二进制的方式上传文件。

## 3. 常见请求头及其作用

- Accept：客户端接收的数据类型。
- x-Requested-With：异步请求，ajax异步请求，无跳转。
- User-Agent：发送请求的客户端类型。
- Content_Type：请求内容的报文格式。
- cookie：cookie信息。

## 4. get请求和post的区别

- get和post都可以向服务器提交数据，且都可以从服务端获取数据，post比get安全。
- 传送参数的方式不同：get通过地址栏传参数，post通过表单报文传参数。
- 传参的长度不同：get参数有长度限制，post则没有。
- 一般情况下，get是获取数据，post提交数据，比如增删改数据。
- get仅发送一个tcp报文(参数、data)，post发送两个报文(1.请求头，返回100，2.data，返回200)

## 5. 接口请求种常用的返回状态码

![](https://img-blog.csdn.net/20180106160316877?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVhbGY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

- 1xx 信息提示，请求处理中
- 2xx 请求处理成功
    - 200 ok，从客户端发来的请求在服务器被正常处理了。
- 3xx 重新定向（发送一个请求，这个请求多次请求了服务器的多个资源）
- 4xx 客户端错误
    - 400，请求报文中存在语法错误。
    - 403，表明对请求资源的访问被服务器拒绝了。
    - 404，表明服务器上无法找到请求的资源。
- 5xx 服务器错误
    - 500 ，服务器端在执行请求时发生了错误。也有可能是Web应用存在的bug或某些临时的故障。
    - 504，网关超时，由作为代理或网关的服务器使用，表示不能及时地从远程服务器获得应答。

## 6. cookie、session、token异同点：

- 相同点
    - 用于鉴权，都是有服务器生成的。 -相异点
    - cookie保存在客户端的浏览器上，cookie不安全，可以分析本地的cookie，进行cookie欺骗。
    - session保存在服务器的内存，默认保存30min，比cookie安全，用户多是耗内存，session一般会生成sessionid，sessionid可以通过cookie传输。
    - token保存在服务器的数据库，通常通过接口或登录获取，后续接口需要传token才可以请求成功，sessionid可以通过cookie传输。

## 7. 接口测试如何做的

- 获取接口文档，熟悉单接口以及链路接口的业务，包括接口地址、鉴权方式、入参、出参，错误码等。
- 编写测试用例及评审
    - 正例：单接口返回成功场景，链路接口逻辑实现。
    - 反例：
        - 鉴权异常：空、错误、过期......。
        - 参数异常：空、类型异常、长度异常。
        - 错误码异常
        - 其他异常：接口黑名单、接口调用次数限制、分页。
    - 接口性能
        - 重要的接口如（登陆、下单、支付），单用户、高并发下的接口响应时间、cpu、内存会不会有占用高的异常，吞吐量是否达标。
    - 接口安全
        - 鉴权访问
        - sql注入，sql进行永真条件拼接，是否能返回业务数据。 关注点：
            1. 永远不要信任用户的输入。对用户的输入进行校验，可以通过正则表达式，或限制长度；对单引号和双"-"进行转换等 2. 永远不要使用动态拼装sql，可以使用参数化的sql或者直接使用存储过程进行数据查询存取
            3. 永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接。
            4. 不要把机密信息直接存放，加密或者hash掉密码和敏感的信息。
            5. 应用的异常信息应该给出尽可能少的提示，最好使用自定义的错误信息对原始错误信息进行包装。
        - xss攻击，向页面插入恶意的script代码，获取用户的认证信息，仿冒登陆，造成用户的信息泄露等。 关注点： 如<script src=‘wrong URL’></script>
          这种有安全性的脚本，其它用户进入后可以获取该用户的cookie信息，即可以对该用户资源进行操作。
        - 越权访问，包括横向用户越权、纵向用户越权访问。
        - crsf请求伪造，CSRF是一种对网站的恶意利用，过伪装来自受信任用户的请求来利用受信任的网站。
- 接口测试工具或代码执行接口测试。
    - 接口关联，接口参数加密，是否为动态参数，接口是否需要签名和带请求头。
- 实现持续集成并输出接口测试报告电子邮件，有bug提交bug。

## 9.没有接口文档，如何做接口测试

- 方式一：可以使用fidder，charles抓包工具抓取接口数据之后整理成接口文档，找时间和开发进行确认接口作用和参数的作用。
- 方式二：通过jmeter的代理录制功能，先把请求录制下来，形成接口文档，然后在逐一进行接口测试。

## 10.接口测试中，依赖登录状态的接口如何测试

每次发送请求时需要带上cookie和session才能够发送成功，在请求时需要添加上cookie、session。
通过postman测试，postman会自动去管理；如果通过jmeter，需要添加cookie管理器组件；如果通过代码来实现，那么需要生成session对象，然后通过session对象来发送请求。

## 11.你平时在接口测试时遇到过哪些bug

- 接口没有实现，没有对应的返回值，输入异常，接口没有返回错误的提示
- 权限bug，横纵向越权bug。

## 12.接口返回是如何做校验

- 状态码校验：检验返回的状态码是否为200
- 业务校验：
    - 业务错误码
    - 接口返回报文短且固定，校验完全一致
    - 接口但会报文长，校验最核心的业务信息
    - 接口返回的报文为xml或者json格式，则通过xpath、JsonPath或者正则表达式匹配关键字的方式获取业务信息，然后校验
    - 查询数据库校验或者依赖其他接口校验

## 14.依赖第三方数据如何进行测试

- 通过postman搭建mock服务，缺点是访问mock服务次数有限制，一天只可以访问1000次。
- java可以通过Servlet、Flask等技术来实现接口Mock服务

## 15.对于加密接口和签名接口如何测试

- 加密接口，首先确定是如何加密的
    - 1.对称式的加密方式(私钥)：不常用的DES,AES，常用的Base64加密方式
    - 2.非对称是加密方式(双钥加密)：RSA加密方式，由一个私钥密码生成双钥(公私钥)，公钥加密，私钥解密，或公钥解密，私钥匙加密。
    - 3.只加密不解密
        - MD5加密
        - SHA1/SHA2/SHA3......
    - 4.自定义加密方式，混合加密方式
- 了解加密规则(签名规则)后，在请求接口之前先要对参数做对应的加密(签名)之后再请求，单一的加密方式postman使用js脚本实现，jmeter使用beanshell中的java代码实现。

# 2.自动化测试

## 01.接口自动化和web自动化case量，覆盖率是多少，执行时间需要多久

- 接口自动化测试case量依据接口数而定，100个接口，自动化case量在2000-3000之间，覆盖率可以达到100%。
- web自动化测试case量依据业务规则来定，10000个功能的用例数对应可动化数量在2000-3000之间，覆盖率在30%左右。
- 所有用例只想约1h以完成。

## 02. 接口自动化和web自动化怎么进行。

- 项目组对做自动化做可行性分析，自动化率能够实现到什么程度。
- 调研测试团队对于自动化的技术程度。
- 计划制定，搭建测试框架，逐步实施，发现框架存在的问题并修改。
    - 制定计划，提取可自动化的测试用例，有测试组长编写自动化框架，组员依据测试框架编写测试和调试脚本。
- 自动化流程化，出可用的操作文档和规范文档。
- 不断持续的完善框架，维护自动化代码。

## 03. pom模式，为什么要使用它

- pom模式，page object module 页面对象模型
- 页面元素就是对象的属性，页面的操作就是对象的行为(方法)，基础封装basepage，po页面对象层，TestCase测试用例层。
- 使得测试用例更简单清晰，把很多的业务操作封装到po页面对象层，用例只需要调用即可，如果页面有改动，只需要修改po页面对象的属性即可，增加代码的可维护性。

## 04. 数据驱动和关键字驱动

- 数据驱动
    - 从数据文件读取输入、输出的数据，通过变量传参至自动化用例中，在整个过程中，数据的读取、测试的状态，测试信息全在测试用例里面，测试数据都是数据文件中的，通过修改数据文件达到驱动自动化用例的执行的方式。
- 关键字驱动
    - 从面向对象的思维出发，同样的业务逻辑会封装成一个函数，这个函数叫做关键字，通过不同的关键字实现不同的业务逻辑，所有的业务逻辑都可以通过调用关键字来实现。
- 一般情况下，自动化可以数据驱动和关键字驱动一起使用。

## 5. web测试用例如何设计，如何提高web自动化用例的稳定性

- 用例设计
    - 自动化用例设计是从功能测试用例中提取出来的，主要提取冒烟用例和回归测试的用例，用例遵循以下原则：
        - 有限选择覆盖核心功能的用例，核心流程的用例
        - 尽量不选择复杂的用例
        - 选取一些重复执行的用例
        - 一般选择正向的用例
- 稳定性
    - 尽量使用相对路径定位元素
    - 定位元素需要封装显示等待
    - 用例和用例之间尽量避免依赖
    - 加入用例失败重新执行机制
    - 自动化测试环境与其他环境分开

## 6. 自动化测试过程中碰到哪些异常，常用的python库有哪些。

- 异常类型：
    - NoSuchEelementException 没有元素异常
    - NoSuchAttributeException 没有属性异常
    - NoSuchFrameException 没有框架异常
    - ElementNotVisibleException 元素不可见异常
    - ElementNotSelectException 元素不可选异常
    - TimeOutException 定位元素超时异常
    - ArrayIndexOutoException 数组下标异常
    - TypeException 类型异常
- Python库：
    -
    webdriver，webdriverWait，os，xlrd，xlwt，time，unnitest，logging，sys，htmltestrunner,json，CSV，jsonpath，yaml,，requests，re，pytest，allure，pymysql

## 7.自动化测试过程中，你遇到了哪些问题，是如何解决的？

- 元素定位不到。
- 自动化测试用例出现误报。
- 每一次自动化测试的结果会被覆盖。
- 数据库校验。（对数据库结构非常清晰）

## 8.在上一家公司做自动化测试用的什么框架？

- web:
    - python+seleinium+unittest/pytest+ddt/parameters+htmltestrunner/allure+jenins
- api:
    - python+requests+pytest+parameters+allure+jenins+yaml

## 9.自动化中的等待

- 线程等待
- 隐性等待
- 显性等待，一般会和一个匿名函数一起使用，一般用不结合定位元素的封装。

## 10.在执行脚本过程，如何实现当前元素高亮显示？

- 必做，利用javascript去修改你当前定位到的元素的style,在style里面加入border:3pxredsolid这个样式。

## 11.在现有基础上给你一个新的业务线你是怎么做接口自动化的?

- 首先熟悉新的业务线接口的业务，然后熟悉已经搭建好的接口自动化测试框架，然后在当前的框架里面加入符合框架的接口自动化的测试用例即可，根据实际情况可以提出一些对框架的改进建议。

## 12.接口自动化测试框架中接口关联你们是怎么处理的？

- 通过一个yaml文件来独立的保存所有的中间提取的变量，这个变量在执行用例之前清空。conftest
- 在测试用例的yaml文件里面通过一个关键字extract提取变量：json提取和正则表达式提取
- 在下一个接口通过{{}}或${}或热加载的方式取值。

## 13.Requests中的Session会话管理的作用是什么？

- 因为很多接口都需要使用cookie或session来记录登录状态，而很多的接口必须要有这个登录状态才可以请求成功，Requests中的Session会话管理的作用就是自动的记录cookie和sesion的登录状态。

## 14.接口自动化测试中断言是如何实现的？

- 把断言封装成一个方法，这个方法会读取yaml文件里面的validate字段，包括断言的方式和断言的数据，然后在后台实现了断言。并且提现在报告里面。框架封装完成之后不需要写任何Python代码就可以实现断言。
- 功能测试不需要写任何pythhon脚本，只需要写yaml格式的测试用例即可实现接口自动化。

## 15.接口自动化测试框架中动态参数接口，加密接口，签名接口你们是怎么处理的？

- 热加载。

	